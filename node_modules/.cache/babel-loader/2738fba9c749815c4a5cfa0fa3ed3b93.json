{"ast":null,"code":"var _jsxFileName = \"/home/local/SUTRIXMEDIA1/vi.ha/Desktop/frontend/Reactjs/Reactjs/src/components/Authors.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\n\nclass Authors extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = async event => {\n      console.log('ON CHANGING VALUE');\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      await this.setState({\n        [name]: value\n      });\n      console.log(this.state);\n    };\n\n    this.getAuthors = async data => {\n      console.log(\"ok\");\n      let url = 'http://10.0.0.61:8000/book/authors/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'GET',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data);\n          this.setState({\n            authors: res.data\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"Error\");\n      });\n    };\n\n    this.createAuthor = async event => {\n      event.preventDefault();\n      console.log(\"ok\");\n      let url = 'http://10.0.0.61:8000/book/authors/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(this.state.firstname);\n      let options = {\n        method: 'POST',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        data: {\n          first_name: this.state.firstname,\n          last_name: this.state.lastname,\n          email: this.state.email\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data); //this.setState({authors: res.data});\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"Create fail\");\n      });\n    };\n\n    this.updateAuthor = async author => {\n      let url = 'http://10.0.0.61:8000/book/authors/' + author.id + '/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'PATCH',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        data: {\n          first_name: 'hello'\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data); //this.setState({authors: res.data});\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"LOGIN FAIL, PLEASE TRY AGAIN\");\n      });\n    };\n\n    this.deleteAuthor = async author => {\n      let url = 'http://10.0.0.61:8000/book/authors/' + author.id + '/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'DELETE',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data); //this.setState({authors: res.data});\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"Can't delete\");\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.getAuthors();\n    };\n\n    this.state = {\n      authors: [],\n      showForm: false,\n      firstname: '',\n      lastname: '',\n      email: ''\n    };\n  }\n\n  renderForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.createAuthor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-1 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 29\n      }\n    }, \"Create Author\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, \"First Name:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"firstname\",\n      name: \"firstname\",\n      value: this.state.firstname,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 25\n      }\n    }, \"Last Name:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"lastname\",\n      name: \"lastname\",\n      value: this.state.lastname,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 25\n      }\n    }, \"Email:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-1 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: refreshPage,\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, \"Create\"))))));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-bordered table-sm tinymask \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }\n    }, this.state.authors.map((author, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, author.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 25\n      }\n    }, author.first_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, author.last_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 25\n      }\n    }, author.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"glyphicon glyphicon-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 72\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.deleteAuthor(author),\n      type: \"button\",\n      class: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"glyphicon glyphicon-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 112\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.setState({\n        showForm: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }\n    }, \"Add New Record\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }, this.state.showForm ? this.renderForm() : null));\n  }\n\n}\n\nexport default Authors;","map":{"version":3,"sources":["/home/local/SUTRIXMEDIA1/vi.ha/Desktop/frontend/Reactjs/Reactjs/src/components/Authors.js"],"names":["axios","React","Component","Authors","constructor","props","onChange","event","console","log","target","name","value","setState","state","getAuthors","data","url","token","localStorage","getItem","options","method","headers","credentials","then","res","authors","catch","err","createAuthor","preventDefault","firstname","first_name","last_name","lastname","email","updateAuthor","author","id","deleteAuthor","componentDidMount","showForm","renderForm","refreshPage","render","map","index"],"mappings":"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","sourcesContent":["import axios  from 'axios';\nimport React, {Component} from 'react';\nclass Authors extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            authors: [],\n            showForm: false,\n            firstname: '',\n            lastname: '',\n            email: '',\n        }\n    }\n    onChange = async (event) =>{\n        console.log('ON CHANGING VALUE')\n        var target = event.target;\n        var name = target.name;\n        var value = target.value;\n        await this.setState({\n            [name] : value\n        });\n        console.log(this.state)\n      }\n\n    renderForm() {\n        return (\n            <div> \n                <form onSubmit={this.createAuthor}>  \n                    <div className=\"container\">  \n                    <br />  \n                    <div className=\"form-group row\">  \n                        <label className=\"col-sm-1 col-form-label\" />  \n                        <div className=\"col-sm-4\">  \n                            <h3>Create Author</h3>  \n                        </div>  \n                    </div>   \n                    <div className=\"form-group row\">  \n                        <label className=\"col-sm-2 col-form-label\">First Name:</label>  \n                        <div className=\"col-sm-4\">  \n                        <input \n                            type=\"text\"  \n                            className=\"form-control\" \n                            placeholder=\"firstname\"\n                            name=\"firstname\"\n                            value={this.state.firstname}\n                            onChange={this.onChange}/>  \n                        </div>  \n                    </div>\n                    <div className=\"form-group row\">  \n                        <label className=\"col-sm-2 col-form-label\">Last Name:</label>  \n                        <div className=\"col-sm-4\">  \n                        <input \n                            type=\"text\"  \n                            className=\"form-control\" \n                            placeholder=\"lastname\"\n                            name=\"lastname\"\n                            value={this.state.lastname}\n                            onChange={this.onChange}/> \n                        </div>  \n                    </div>  \n                    <div className=\"form-group row\">  \n                        <label className=\"col-sm-2 col-form-label\">Email:</label>  \n                        <div className=\"col-sm-4\">  \n                        <input \n                            type=\"text\"  \n                            className=\"form-control\" \n                            placeholder=\"email\"\n                            name=\"email\"\n                            value={this.state.email}\n                            onChange={this.onChange}/> \n                        </div>  \n                    </div>  \n                    <div className=\"form-group row\">  \n                        <label className=\"col-sm-1 col-form-label\" />  \n                        <div className=\"col-sm-4\">  \n                        <button onClick={refreshPage} type=\"submit\" className=\"btn btn-success\">Create</button>  \n                        </div>  \n                    </div>  \n                    </div>  \n                </form>\n           </div>\n        );\n      }\n     \n\n\n    getAuthors =  async (data) => {\n        console.log(\"ok\")\n        let url = 'http://10.0.0.61:8000/book/authors/';\n        var token = 'Token ' + localStorage.getItem('token')\n        console.log(token)\n\n        let options = {\n            method: 'GET',\n            url : url,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': token\n            },\n            credentials: \"same-origin\",\n        };\n\n        await axios({...options}).then((res)=>{\n            if (res.data) {\n              console.log(res.data);\n              this.setState({authors: res.data});\n            }\n        }).catch((err)=>{\n            console.log(err)\n            console.log(\"Error\")\n        })\n        \n\n    }\n\n    createAuthor =  async (event) => {\n        event.preventDefault();\n        console.log(\"ok\");\n        let url = 'http://10.0.0.61:8000/book/authors/';\n        var token = 'Token ' + localStorage.getItem('token')\n        console.log(this.state.firstname)\n\n        let options = {\n            method: 'POST',\n            url : url,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': token\n            },\n            data: {\n                first_name: this.state.firstname,\n                last_name: this.state.lastname,\n                email: this.state.email\n            },\n            credentials: \"same-origin\",\n        };\n\n        await axios({...options}).then((res)=>{\n            if (res.data) {\n              console.log(res.data);\n              //this.setState({authors: res.data});\n            }\n        }).catch((err)=>{\n            console.log(err)\n            console.log(\"Create fail\")\n        })\n        \n\n    }\n\n    updateAuthor = async (author) => {\n        let url = 'http://10.0.0.61:8000/book/authors/' + author.id + '/';\n        var token = 'Token ' + localStorage.getItem('token')\n        console.log(token)\n\n        let options = {\n            method: 'PATCH',\n            url : url,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': token\n            },\n            data: {\n                first_name: 'hello',\n            },\n            credentials: \"same-origin\",\n        };\n\n        await axios({...options}).then((res)=>{\n            if (res.data) {\n              console.log(res.data);\n              //this.setState({authors: res.data});\n            }\n        }).catch((err)=>{\n            console.log(err)\n            console.log(\"LOGIN FAIL, PLEASE TRY AGAIN\")\n        })\n        \n    }\n\n    deleteAuthor = async (author) => {\n        let url = 'http://10.0.0.61:8000/book/authors/' + author.id + '/';\n        var token = 'Token ' + localStorage.getItem('token')\n        console.log(token)\n\n        let options = {\n            method: 'DELETE',\n            url : url,\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': token\n            },\n            credentials: \"same-origin\",\n        };\n\n        await axios({...options}).then((res)=>{\n            if (res.data) {\n              console.log(res.data);\n              //this.setState({authors: res.data});\n            }\n        }).catch((err)=>{\n            console.log(err)\n            console.log(\"Can't delete\")\n        })\n        \n    }\n\n    componentDidMount =() =>{\n        this.getAuthors();\n    }\n    \n    render(){\n        return(\n            <div>\n                <table className=\"table table-striped table-bordered table-sm tinymask \">\n                <thead className=\"thead-dark\">\n                    <tr>\n                    <th>ID</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Email</th>\n                    <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {this.state.authors.map((author, index) => (\n                    <tr>\n                        <td>{author.id}</td>\n                        <td>{author.first_name}</td> \n                        <td>{author.last_name}</td>\n                        <td>{author.email}</td>\n                        <td><button type=\"button\" class=\"btn btn-info\"><span class=\"glyphicon glyphicon-pencil\"></span></button>\n                        <button onClick={() => this.deleteAuthor(author)} type=\"button\" class=\"btn btn-danger\"><span class=\"glyphicon glyphicon-trash\"></span></button></td>\n                    </tr>\n                ))}\n                </tbody>\n                </table>\n                <center><button className=\"btn btn-primary\" onClick={() => this.setState({showForm: true})}>Add New Record</button></center>\n                <div>\n                    {this.state.showForm ? this.renderForm() : null}\n                </div>\n        </div>\n        );\n    }\n}\n\nexport default Authors;"]},"metadata":{},"sourceType":"module"}