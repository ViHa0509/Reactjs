{"ast":null,"code":"var _jsxFileName = \"/home/local/SUTRIXMEDIA1/vi.ha/Desktop/Demo/ReactJs/src/components/Authors.js\";\n// import axios  from 'axios';\nimport React, { Component } from 'react'; // import {API_ENDPOINT} from '../const';\n\nimport AuthorForm from './AuthorForm';\nimport './Authors.css';\n\nclass Authors extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillReceiveProps = nextProps => {\n      if (nextProps.authors !== this.state.authors) {\n        this.setState({\n          authors: nextProps.authors,\n          showForm: false\n        });\n      }\n    };\n\n    this.onChange = async event => {\n      console.log('ON CHANGING VALUE');\n      var target = event.target;\n      var name = target.name;\n      var value = target.value;\n      await this.setState({\n        [name]: value\n      });\n    };\n\n    this.onGetAuthors = () => {\n      this.props.onGetAuthors();\n    };\n\n    this.onDeleteAuthor = id => {\n      this.props.onDeleteAuthor(id);\n    };\n\n    this.onEditAuthor = async author => {\n      console.log(\"ON EDITING AUTHOR\");\n      await this.setState({\n        showForm: true,\n        selectedAuthor: {\n          firstname: author.first_name,\n          lastname: author.last_name,\n          email: author.email,\n          id: author.id\n        }\n      });\n    };\n\n    this.onToggleForm = () => {\n      this.setState({\n        showForm: !this.state.showForm,\n        selectedAuthor: {\n          'firstname': '',\n          'lastname': '',\n          'email': '',\n          'id': ''\n        }\n      });\n    };\n\n    this.onLogout = () => {\n      sessionStorage.removeItem('Username');\n    };\n\n    this.componentDidMount = () => {\n      this.onGetAuthors();\n    };\n\n    this.state = {\n      authors: [],\n      showForm: false,\n      selectedAuthor: {\n        'firstname': '',\n        'lastname': '',\n        'email': '',\n        'id': ''\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-bordered table-sm tinymask \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, this.state.authors.map((author, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"white-text\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, author.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, author.first_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, author.last_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, author.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icon-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-info\",\n      onClick: () => {\n        this.onEditAuthor(author);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        if (window.confirm('Are you sure you wish to delete this item?')) this.onDeleteAuthor(author.id);\n      },\n      type: \"button\",\n      className: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 37\n      }\n    })))))))), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.onToggleForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 25\n      }\n    }, \"Add New Record\")), /*#__PURE__*/React.createElement(\"left\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }\n    }, \"Logout\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, this.state.showForm ? /*#__PURE__*/React.createElement(AuthorForm, {\n      onCreateAuthor: this.props.onCreateAuthor,\n      selectedAuthor: this.state.selectedAuthor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }) : null));\n  }\n\n}\n\nexport default Authors;","map":{"version":3,"sources":["/home/local/SUTRIXMEDIA1/vi.ha/Desktop/Demo/ReactJs/src/components/Authors.js"],"names":["React","Component","AuthorForm","Authors","constructor","props","componentWillReceiveProps","nextProps","authors","state","setState","showForm","onChange","event","console","log","target","name","value","onGetAuthors","onDeleteAuthor","id","onEditAuthor","author","selectedAuthor","firstname","first_name","lastname","last_name","email","onToggleForm","onLogout","sessionStorage","removeItem","componentDidMount","render","map","index","window","confirm","onCreateAuthor"],"mappings":"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","sourcesContent":["// import axios  from 'axios';\nimport React, {Component} from 'react';\n// import {API_ENDPOINT} from '../const';\nimport AuthorForm from './AuthorForm';\n\nimport './Authors.css'\n\nclass Authors extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            authors: [],\n            showForm: false,\n            selectedAuthor: {\n            'firstname': '',\n            'lastname': '',\n            'email': '',\n            'id': ''\n            }\n        }\n    }\n\n   componentWillReceiveProps = (nextProps) =>{\n       if(nextProps.authors !== this.state.authors){\n           this.setState({\n               authors: nextProps.authors,\n               showForm: false\n           });\n       }\n   }\n\n    onChange = async (event) =>{\n        console.log('ON CHANGING VALUE')\n        var target = event.target;\n        var name = target.name;\n        var value = target.value;\n        await this.setState({\n            [name] : value\n        });\n      }\n\n\n    onGetAuthors = () =>{\n        this.props.onGetAuthors();\n    }\n\n    // onCreateAuthor = (event) =>{\n    //     event.preventDefault();\n    //     this.props.onCreateAuthor(this.state);\n    // }\n\n    onDeleteAuthor = (id) =>{\n        this.props.onDeleteAuthor(id);\n    }\n\n    onEditAuthor = async(author) =>{\n        console.log(\"ON EDITING AUTHOR\")\n        await this.setState({\n            showForm: true,\n            selectedAuthor:{\n                firstname: author.first_name,\n                lastname: author.last_name,\n                email: author.email,\n                id: author.id\n            }\n        });\n\n\n    }\n\n    onToggleForm = () =>{\n        this.setState({\n            showForm: !this.state.showForm,\n            selectedAuthor:{\n                'firstname': '',\n                'lastname': '',\n                'email': '',\n                'id': ''\n            }\n\n        })\n    }\n\n    onLogout =() =>{\n        sessionStorage.removeItem('Username');\n    }\n\n    componentDidMount =() =>{\n        this.onGetAuthors();\n    }\n        \n    render(){\n        return(\n            <div>\n                <table className=\"table table-striped table-bordered table-sm tinymask \">\n                <thead className=\"thead-dark\">\n                    <tr>\n                    <th>ID</th>\n                    <th>First Name</th>\n                    <th>Last Name</th>\n                    <th>Email</th>\n                    <th>Actions</th>\n                    </tr>\n                </thead>\n                <tbody>\n                {this.state.authors.map((author, index) => (\n                    <tr className=\"white-text\" key={index}>\n                        <td>{author.id}</td>\n                        <td>{author.first_name}</td> \n                        <td>{author.last_name}</td>\n                        <td>{author.email}</td>\n                        <td>\n                            <div className=\"icon-div\">\n                                <button \n                                    type=\"button\" \n                                    className=\"btn btn-info\"\n                                    onClick={()=>{\n                                        this.onEditAuthor(author)\n                                    }}>\n                                    <i className=\"fa fa-edit\"></i>\n                                </button>\n                                <button \n                                    onClick={() => {\n                                        if (window.confirm('Are you sure you wish to delete this item?'))   \n                                        this.onDeleteAuthor(author.id)\n                                    }} \n                                    type=\"button\" \n                                    className=\"btn btn-danger\">\n                                    <i className=\"fa fa-trash\"></i>\n                                </button>\n                            </div>\n                           \n                        </td>\n                    </tr>\n                ))}\n                </tbody>\n                </table>\n                <center><button className=\"btn btn-primary\" onClick={this.onToggleForm}>Add New Record</button></center>\n                <left><button className=\"btn btn-primary\">Logout</button></left>\n                <div>\n                    {\n                        this.state.showForm ? \n                        <AuthorForm \n                            onCreateAuthor={this.props.onCreateAuthor}\n                            selectedAuthor={this.state.selectedAuthor}\n                            /> : \n                        null\n                    }\n                </div>\n        </div>\n        );\n    }\n}\n\nexport default Authors;"]},"metadata":{},"sourceType":"module"}