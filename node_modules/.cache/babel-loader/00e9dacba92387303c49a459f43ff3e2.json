{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pcc\\\\ReactDemo\\\\src\\\\components\\\\Authors.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\n\nclass Authors extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showCreateForm = () => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        OnSubmit: this.createAuthor,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 29\n        }\n      }, \"Create Author\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 25\n        }\n      }, \"First Name:\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"firstname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 25\n        }\n      }, \"Last Name:\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"lastname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-sm-2 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }\n      }, \"Email:\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"col-sm-1 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }\n      }, \"Create\"))))));\n    };\n\n    this.getAuthors = async data => {\n      console.log(\"ok\");\n      let url = 'http://127.0.0.1:8000/book/authors/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'GET',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data);\n          this.setState({\n            authors: res.data\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"Error\");\n      });\n    };\n\n    this.createAuthor = async data => {\n      var first_name = 'vi';\n      var last_name = 'hoan';\n      var email = '123@gmail.com';\n      console.log(\"ok\");\n      let url = 'http://127.0.0.1:8000/book/authors/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'POST',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        data: {\n          first_name: first_name,\n          last_name: last_name,\n          email: email\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data); //this.setState({authors: res.data});\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"LOGIN FAIL, PLEASE TRY AGAIN\");\n      });\n    };\n\n    this.updateAuthor = async author => {\n      let url = 'http://127.0.0.1:8000/book/authors/' + author.id + '/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'PATCH',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        data: {\n          first_name: 'hello'\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data); //this.setState({authors: res.data});\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"LOGIN FAIL, PLEASE TRY AGAIN\");\n      });\n    };\n\n    this.deleteAuthor = async author => {\n      let url = 'http://127.0.0.1:8000/book/authors/' + author.id + '/';\n      var token = 'Token ' + localStorage.getItem('token');\n      console.log(token);\n      let options = {\n        method: 'DELETE',\n        url: url,\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        credentials: \"same-origin\"\n      };\n      await axios({ ...options\n      }).then(res => {\n        if (res.data) {\n          console.log(res.data); //this.setState({authors: res.data});\n        }\n      }).catch(err => {\n        console.log(err);\n        console.log(\"Can't delete\");\n      });\n    };\n\n    this.componentDidMount = () => {\n      this.getAuthors();\n    };\n\n    this.state = {\n      authors: [],\n      showCreateForm: false\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-bordered table-sm tinymask \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, this.state.authors.map((author, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 25\n      }\n    }, author.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 25\n      }\n    }, author.first_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 25\n      }\n    }, author.last_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 25\n      }\n    }, author.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"glyphicon glyphicon-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 72\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.deleteAuthor(author),\n      type: \"button\",\n      class: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"glyphicon glyphicon-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 112\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.setState({\n        showCreateForm: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }, \"Add New Record\")));\n  }\n\n}\n\nexport default Authors;","map":{"version":3,"sources":["C:/Users/pcc/ReactDemo/src/components/Authors.js"],"names":["axios","React","Component","Authors","constructor","props","showCreateForm","createAuthor","getAuthors","data","console","log","url","token","localStorage","getItem","options","method","headers","credentials","then","res","setState","authors","catch","err","first_name","last_name","email","updateAuthor","author","id","deleteAuthor","componentDidMount","state","render","map","index"],"mappings":"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","sourcesContent":["import axios  from 'axios';\r\nimport React, {Component} from 'react';\r\nclass Authors extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            authors: [],\r\n            showCreateForm: false\r\n        }\r\n    }\r\n\r\n    showCreateForm = () => {\r\n        return (\r\n            <div> \r\n                <form OnSubmit={this.createAuthor}>  \r\n                    <div className=\"container\">  \r\n                    <br />  \r\n                    <div className=\"form-group row\">  \r\n                        <label className=\"col-sm-1 col-form-label\" />  \r\n                        <div className=\"col-sm-4\">  \r\n                            <h3>Create Author</h3>  \r\n                        </div>  \r\n                    </div>   \r\n                    <div className=\"form-group row\">  \r\n                        <label className=\"col-sm-2 col-form-label\">First Name:</label>  \r\n                        <div className=\"col-sm-4\">  \r\n                        <input type=\"text\" name=\"firstname\"  />  \r\n                        </div>  \r\n                    </div>\r\n                    <div className=\"form-group row\">  \r\n                        <label className=\"col-sm-2 col-form-label\">Last Name:</label>  \r\n                        <div className=\"col-sm-4\">  \r\n                        <input type=\"text\" name=\"lastname\" />  \r\n                        </div>  \r\n                    </div>  \r\n                    <div className=\"form-group row\">  \r\n                        <label className=\"col-sm-2 col-form-label\">Email:</label>  \r\n                        <div className=\"col-sm-4\">  \r\n                        <input type=\"email\" name=\"email\"  />  \r\n                        </div>  \r\n                    </div>  \r\n                    <div className=\"form-group row\">  \r\n                        <label className=\"col-sm-1 col-form-label\" />  \r\n                        <div className=\"col-sm-4\">  \r\n                        <button type=\"submit\" className=\"btn btn-success\">Create</button>  \r\n                        </div>  \r\n                    </div>  \r\n                    </div>  \r\n                </form>\r\n           </div>\r\n        );\r\n      }\r\n     \r\n\r\n\r\n    getAuthors =  async (data) => {\r\n        console.log(\"ok\")\r\n        let url = 'http://127.0.0.1:8000/book/authors/';\r\n        var token = 'Token ' + localStorage.getItem('token')\r\n        console.log(token)\r\n\r\n        let options = {\r\n            method: 'GET',\r\n            url : url,\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            credentials: \"same-origin\",\r\n        };\r\n\r\n        await axios({...options}).then((res)=>{\r\n            if (res.data) {\r\n              console.log(res.data);\r\n              this.setState({authors: res.data});\r\n            }\r\n        }).catch((err)=>{\r\n            console.log(err)\r\n            console.log(\"Error\")\r\n        })\r\n        \r\n\r\n    }\r\n\r\n    createAuthor =  async (data) => {\r\n        var first_name = 'vi'\r\n        var last_name = 'hoan'\r\n\r\n        var email = '123@gmail.com'\r\n        console.log(\"ok\")\r\n        let url = 'http://127.0.0.1:8000/book/authors/';\r\n        var token = 'Token ' + localStorage.getItem('token')\r\n        console.log(token)\r\n\r\n        let options = {\r\n            method: 'POST',\r\n            url : url,\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            data: {\r\n                first_name: first_name,\r\n                last_name: last_name,\r\n                email: email\r\n            },\r\n            credentials: \"same-origin\",\r\n        };\r\n\r\n        await axios({...options}).then((res)=>{\r\n            if (res.data) {\r\n              console.log(res.data);\r\n              //this.setState({authors: res.data});\r\n            }\r\n        }).catch((err)=>{\r\n            console.log(err)\r\n            console.log(\"LOGIN FAIL, PLEASE TRY AGAIN\")\r\n        })\r\n        \r\n\r\n    }\r\n\r\n    updateAuthor = async (author) => {\r\n        let url = 'http://127.0.0.1:8000/book/authors/' + author.id + '/';\r\n        var token = 'Token ' + localStorage.getItem('token')\r\n        console.log(token)\r\n\r\n        let options = {\r\n            method: 'PATCH',\r\n            url : url,\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            data: {\r\n                first_name: 'hello',\r\n            },\r\n            credentials: \"same-origin\",\r\n        };\r\n\r\n        await axios({...options}).then((res)=>{\r\n            if (res.data) {\r\n              console.log(res.data);\r\n              //this.setState({authors: res.data});\r\n            }\r\n        }).catch((err)=>{\r\n            console.log(err)\r\n            console.log(\"LOGIN FAIL, PLEASE TRY AGAIN\")\r\n        })\r\n        \r\n    }\r\n\r\n    deleteAuthor = async (author) => {\r\n        let url = 'http://127.0.0.1:8000/book/authors/' + author.id + '/';\r\n        var token = 'Token ' + localStorage.getItem('token')\r\n        console.log(token)\r\n\r\n        let options = {\r\n            method: 'DELETE',\r\n            url : url,\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            credentials: \"same-origin\",\r\n        };\r\n\r\n        await axios({...options}).then((res)=>{\r\n            if (res.data) {\r\n              console.log(res.data);\r\n              //this.setState({authors: res.data});\r\n            }\r\n        }).catch((err)=>{\r\n            console.log(err)\r\n            console.log(\"Can't delete\")\r\n        })\r\n        \r\n    }\r\n\r\n    componentDidMount =() =>{\r\n        this.getAuthors();\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div>\r\n                <table className=\"table table-striped table-bordered table-sm tinymask \">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                    <th>ID</th>\r\n                    <th>First Name</th>\r\n                    <th>Last Name</th>\r\n                    <th>Email</th>\r\n                    <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                {this.state.authors.map((author, index) => (\r\n                    <tr>\r\n                        <td>{author.id}</td>\r\n                        <td>{author.first_name}</td> \r\n                        <td>{author.last_name}</td>\r\n                        <td>{author.email}</td>\r\n                        <td><button type=\"button\" class=\"btn btn-info\"><span class=\"glyphicon glyphicon-pencil\"></span></button>\r\n                        <button onClick={() => this.deleteAuthor(author)} type=\"button\" class=\"btn btn-danger\"><span class=\"glyphicon glyphicon-trash\"></span></button></td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n                </table>\r\n                <center><button className=\"btn btn-primary\" onClick={() => this.setState({showCreateForm: true})}>Add New Record</button></center>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Authors;"]},"metadata":{},"sourceType":"module"}